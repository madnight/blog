<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10.0">
    <meta name="author" content="Fabian Beuke">
    <link href="/fav.png" as="image" onload="this.rel='shortcut icon'" sizes="45x48">
    <noscript>
        <link rel="shortcut icon" sizes="45x48" href="/fav.png">
    </noscript>
    <link rel="icon" href="/fav.png" onload="if(media!='all')media='all'">
    <noscript>
        <link rel="icon" href="/fav.png">
    </noscript>
    <title>beuke.org</title>
    <meta name="description" content="A personal blog about computer science, theoretical physics and other interesting topics">
    <link rel="alternate" type="application/rss+xml" title="beuke.org" href="/atom.xml" onload="if(media!='all')media='all'">
    <noscript>
        <link rel="alternate" type="application/rss+xml" title="beuke.org" href="/atom.xml">
    </noscript>
    <link rel="preload" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" as="style">
    <link rel="stylesheet" href="/css/simple.css/simple.min.css" as="style">
    <link rel="stylesheet" href="/css/main.css" onload="if(media!='all')media='all'">
    <noscript>
        <link rel="stylesheet" href="/css/main.css">
    </noscript>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" media="none" onload="if(media!='all')media='all'">
    <noscript>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
    </noscript>
    <link rel="stylesheet" href="/css/light.css" media="(prefers-color-scheme: light)">
    <link rel="stylesheet" href="/css/dark.css" media="(prefers-color-scheme: dark)">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C4W5GFHF1P"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag()
        {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-C4W5GFHF1P');

    </script>
    <script type="module" src="https://unpkg.com/dark-mode-toggle"></script>
    <script defer type="text/javascript">
        document.addEventListener("DOMContentLoaded", function (event)
        {
            //- fix for single quotes in pre blocks
            document.body.innerHTML = document.body.innerHTML.replaceAll('', '\'');
        });

    </script>
    <meta name="generator" content="Hexo 6.3.0">
</head>
<header>
    <nav>
        <a href="/"> Home</a>
        <a target="_blank" rel="noopener" href="https://github.com/madnight"> Github</a>
        <a target="_blank" rel="noopener" href="https://github.com/madnight/dotfiles"> Dotfiles</a>
        <a href="/about/"> About</a>
    </nav>
    <div class="title-con">
        <div class="title-container">
            <h1>beuke.org</h1>
            <dark-mode-toggle id="dark-mode-toggle-1" appearance="toggle"></dark-mode-toggle>
        </div>
    </div>
    <h2>A personal blog about computer science, theoretical physics and other interesting topics.</h2>
</header>

<body>
    <main>
        <article>
            <section>
                <div class="post-title"> Natural Transformation </div>
                <div class="post-subtitle"> A Morphism of Functors </div>
                <div class="post-subsubtitle"> Posted on Sep 12 2023 ~ 5 min read</div>
                <div class="post-subtitle-tags">
                    <a href="/tags/category-theory/">#category theory</a>  <a href="/tags/haskell/">#haskell</a>  </div>
                <hr class="solid">
            </section>
            <div class"content">
                <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css">
                <script>
                    MathJax = {
                        loader:
                        {
                            load: ['[custom]/xypic.js'],
                            paths:
                            {
                                custom: 'https://beuke.org/js'
                            }
                        },
                        tex:
                        {
                            packages:
                            {
                                '[+]': ['xypic']
                            }
                        }
                    };

                </script>
                <script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.4/es5/tex-chtml-full.js"></script>
                <script id="dark-toggle" src="/js/dark-toggle.js"></script>
                <!-- <br> -->
                <!-- <img src="/images/applicative.png" onclick="window.open(this.src)"> -->
                <!-- The source as dot is next to image. Compile with: dot -Tsvg typeclasses.dot -o typeclasses.svg -->
                <!-- <br> -->
                <p>Let <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                <semantics>
                                    <mrow>
                                        <mi mathvariant="script">C</mi>
                                    </mrow>
                                    <annotation encoding="application/x-tex">\mathcal{C}</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                <semantics>
                                    <mrow>
                                        <mi mathvariant="script">D</mi>
                                    </mrow>
                                    <annotation encoding="application/x-tex">\mathcal{D}</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span></span></span></span> be <a href="/category">categories</a> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                <semantics>
                                    <mrow>
                                        <mi>F</mi>
                                    </mrow>
                                    <annotation encoding="application/x-tex">F</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                <semantics>
                                    <mrow>
                                        <mi>G</mi>
                                    </mrow>
                                    <annotation encoding="application/x-tex">G</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span> be <a href="/functor">functors</a> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                <semantics>
                                    <mrow>
                                        <mi mathvariant="script">C</mi>
                                        <mo>→</mo>
                                        <mi mathvariant="script">D</mi>
                                    </mrow>
                                    <annotation encoding="application/x-tex">\mathcal{C} \rightarrow \mathcal{D}</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span></span></span></span>. Then a natural transformation <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                <semantics>
                                    <mrow>
                                        <mi>α</mi>
                                    </mrow>
                                    <annotation encoding="application/x-tex">\alpha</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> from <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                <semantics>
                                    <mrow>
                                        <mi>F</mi>
                                    </mrow>
                                    <annotation encoding="application/x-tex">F</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> to <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                <semantics>
                                    <mrow>
                                        <mi>G</mi>
                                    </mrow>
                                    <annotation encoding="application/x-tex">G</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span> is a family of morphism that satisfies the following requirements:</p>
                <ul>
                    <li>
                        <p>For every object <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi>A</mi>
                                            </mrow>
                                            <annotation encoding="application/x-tex">A</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi mathvariant="script">C</mi>
                                            </mrow>
                                            <annotation encoding="application/x-tex">\mathcal{C}</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span></span></span></span>, a natural transformation <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi>α</mi>
                                            </mrow>
                                            <annotation encoding="application/x-tex">\alpha</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> from the functor <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi>F</mi>
                                            </mrow>
                                            <annotation encoding="application/x-tex">F</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> to the functor <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi>G</mi>
                                            </mrow>
                                            <annotation encoding="application/x-tex">G</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span> assigns a morphism <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <msub>
                                                    <mi>α</mi>
                                                    <mi>A</mi>
                                                </msub>
                                                <mo>:</mo>
                                                <mi>F</mi>
                                                <mo stretchy="false">(</mo>
                                                <mi>A</mi>
                                                <mo stretchy="false">)</mo>
                                                <mo>→</mo>
                                                <mi>G</mi>
                                                <mo stretchy="false">(</mo>
                                                <mi>A</mi>
                                                <mo stretchy="false">)</mo>
                                            </mrow>
                                            <annotation encoding="application/x-tex">\alpha_{A} : F(A) \rightarrow G(A)</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span> between objects of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi mathvariant="script">D</mi>
                                            </mrow>
                                            <annotation encoding="application/x-tex">\mathcal{D}</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.02778em;">D</span></span></span></span></span>. The morphism <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <msub>
                                                    <mi>α</mi>
                                                    <mi>A</mi>
                                                </msub>
                                            </mrow>
                                            <annotation encoding="application/x-tex">\alpha_{A}</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is called the component of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi>α</mi>
                                            </mrow>
                                            <annotation encoding="application/x-tex">\alpha</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> at <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi>A</mi>
                                            </mrow>
                                            <annotation encoding="application/x-tex">A</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>.</p>
                    </li>
                    <li>
                        <p>Components must be such that for every morphism <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi>f</mi>
                                                <mo>:</mo>
                                                <mi>A</mi>
                                                <mo>→</mo>
                                                <mi>B</mi>
                                            </mrow>
                                            <annotation encoding="application/x-tex">f : A \rightarrow B</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> in <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <mi mathvariant="script">C</mi>
                                            </mrow>
                                            <annotation encoding="application/x-tex">\mathcal{C}</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.05834em;">C</span></span></span></span></span> we have: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                        <semantics>
                                            <mrow>
                                                <msub>
                                                    <mi>α</mi>
                                                    <mi>B</mi>
                                                </msub>
                                                <mo>∘</mo>
                                                <mi>F</mi>
                                                <mo stretchy="false">(</mo>
                                                <mi>f</mi>
                                                <mo stretchy="false">)</mo>
                                                <mo>=</mo>
                                                <mi>G</mi>
                                                <mo stretchy="false">(</mo>
                                                <mi>f</mi>
                                                <mo stretchy="false">)</mo>
                                                <mo>∘</mo>
                                                <msub>
                                                    <mi>α</mi>
                                                    <mi>A</mi>
                                                </msub>
                                            </mrow>
                                            <annotation encoding="application/x-tex">\alpha_{B} \circ F(f) = G(f) \circ \alpha_{A}</annotation>
                                        </semantics>
                                    </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.59445em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> (naturality condition)</p>
                    </li>
                </ul>
                <p>These requirements can be expressed by the following commutative diagram:</p> \begin{xy} \xymatrix{ A \ar[r]_{F\ \ \ } \ar[d]_{f} \ar@/^1.5pc/[rr]^{\alpha_{A}\ \circ\ F} & F(A) \ar[r]_{\alpha_{A}} \ar[d]_{F(f)} & G(A) \ar[d]_{G(f)} \\ B \ar[r]^{F\ \ \ } \ar@/_1.5pc/[rr]_{\alpha_{B}\ \circ\ F} & F(B) \ar[r]^{\alpha_{B}} & G(B) } \end{xy} <p>Natural transformations are often denoted as double arrows, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
                                <semantics>
                                    <mrow>
                                        <mi>α</mi>
                                        <mo>:</mo>
                                        <mi>F</mi>
                                        <mo>⇒</mo>
                                        <mi>G</mi>
                                    </mrow>
                                    <annotation encoding="application/x-tex">\alpha : F \Rightarrow G</annotation>
                                </semantics>
                            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span>, to distinguish them in diagrams from usual morphisms:</p> \begin{xy} \xymatrix @=5pc { \mathcal{C} \rtwocell<5>^{F}_{G}{\alpha} & \mathcal{D} } \end{xy}
                    <!-- \mathcal{C} \ar@/^1pc/[rr]^{alpha} && \mathcal{D} -->
                    <p>In other words, a natural transformation is a way of transforming one functor into another while respecting the internal structure of the categories involved. Natural transformations are one of the most important aspects of category theory. Saunders Mac Lane, one of the founders of category theory, once said:</p>
                    <blockquote>
                        <p>I didn’t invent categories to study functors; I invented them to study natural transformations.</p>
                        <footer><strong><sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top" hint--error hint--medium hint--rounded hint--bounce aria-label="Mac" lane< strong><cite>Saunders (1998)</cite></span></a></sup></strong></footer>
                    </blockquote>
                    <h1 id="example"><a class="markdownIt-Anchor" href="#example"></a> Example</h1>
                    <p>In Haskell, we can define a natural transformation like so:</p>
                    <figure class="highlight">
                        <pre><font face="monospace"><font color="#87afaf">class</font> <font color="#afaf5f">(</font><font color="#d7875f">Functor</font> f<font color="#afaf5f">,</font> <font color="#d7875f">Functor</font> g<font color="#afaf5f">)</font> <font color="#87afaf">=></font> <font color="#d7875f">Transformation</font> f g <font color="#87afaf">where</font>
    <font color="#af87af">alpha</font> <font color="#87afaf">::</font> f a <font color="#87afaf">-></font> g a
</font></pre>
                    </figure>
                    <p>Or we could also define it the following way, as an infix operator (~>):</p>
                    <figure class="highlight">
                        <pre><font face="monospace"><font color="#afaf5f">{-# LANGUAGE TypeOperators #-}</font>
<font color="#afaf5f">{-# LANGUAGE RankNTypes    #-}</font>

<font color="#87afaf">type </font>f <font color="#87afaf">~></font> g <font color="#87afaf">=</font> forall a <font color="#87afaf">.</font> f a <font color="#87afaf">-></font> g a
</font></pre>
                    </figure>
                    <p>Again, the requirement of compatibility with the actions of the functors is not expressible as a type signature, but we can write it down as law in pseudocode:</p>
                    <figure class="highlight">
                        <pre><font face="monospace">alpha <font color="#afaf5f">(</font>fmap f a<font color="#afaf5f">)</font> <font color="#87afaf">=</font> fmap f <font color="#afaf5f">(</font>alpha a<font color="#afaf5f">)</font> <font color="#767676">-- (naturality condition)</font>
</font></pre>
                    </figure>
                    <!-- The `forall a` is optional in Haskell  -->
                    <!-- In Haskell, we usually omit the forall quantifier when there’s no danger of confusion. Any signature that contains a type variable is automatically universally quantified over it. -->
                    <p>Now Haskell supports parametric polymorphism, that means that a function will act on all types uniformly and thus automatically satisfies the naturality condition for any polymorphic function of the type:</p>
                    <figure class="highlight">
                        <pre><font face="monospace"><font color="#af87af">alpha</font> <font color="#87afaf">::</font> <font color="#d7875f">F</font> a <font color="#87afaf">-></font> <font color="#d7875f">G</font> a
</font></pre>
                    </figure>
                    <p>where F and G are functors. The naturality condition in terms of Haskell means that it doesn’t matter whether we first apply a function, through the application of <code>fmap</code>, and then change the structure via a structure preserving mapping; or first change the structure, and then apply the function to the new structure, with its own implementation of <code>fmap</code>. <sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[Natural Transformations by Bartosz Milewski (2015)](https://bartoszmilewski.com/2015/04/07/natural-transformations/)
">[2]</span></a></sup></p>
                    <p>Lets have a look at the following example:</p>
                    <figure class="highlight">
                        <pre><font face="monospace"><font color="#af87af">safeHead</font> <font color="#87afaf">::</font> <font color="#afaf5f">[</font>a<font color="#afaf5f">]</font> <font color="#87afaf">-></font> <font color="#d7875f">Maybe</font> a
safeHead <font color="#afaf5f">[]</font> <font color="#87afaf">=</font> <font color="#d7875f">Nothing</font>
safeHead <font color="#afaf5f">(</font>x<font color="#87afaf">:</font>xs<font color="#afaf5f">)</font> <font color="#87afaf">=</font> <font color="#d7875f">Just</font> x
</font></pre>
                    </figure>
                    <p>This function returns Nothing in case of an empty list and the first element of the list in case of an non-empty List. This function is called <code>safeHead</code>, because there is also a “unsafeHead” in the Haskell standard library, simply called <code>head</code>. The unsafe variant throws an Exception in case the List is empty. We can prove by equational reasoning (or <a target="_blank" rel="noopener" href="https://gist.github.com/madnight/903335b1ba1a56b0ae05b2e8df839c38">Coq</a> if you like) that the naturality condition holds in case of <code>safeHead</code>:</p>
                    <figure class="highlight">
                        <pre><font face="monospace"><font color="#767676">-- Proposition.</font>
fmap f <font color="#87afaf">.</font> safeHead <font color="#87afaf">=</font> safeHead <font color="#87afaf">.</font> fmap f

<font color="#767676">-- Case Nothing.</font>
fmap f <font color="#afaf5f">(</font>safeHead <font color="#afaf5f">[])</font> <font color="#87afaf">=</font> fmap f <font color="#d7875f">Nothing</font> <font color="#87afaf">=</font> <font color="#d7875f">Nothing</font>
safeHead <font color="#afaf5f">(</font>fmap f <font color="#afaf5f">[])</font> <font color="#87afaf">=</font> safeHead <font color="#afaf5f">[]</font> <font color="#87afaf">=</font> <font color="#d7875f">Nothing</font>

<font color="#767676">-- Case non-empty List.</font>
fmap f <font color="#afaf5f">(</font>safeHead <font color="#afaf5f">(</font>x<font color="#87afaf">:</font>xs<font color="#afaf5f">))</font> <font color="#87afaf">=</font> fmap f <font color="#afaf5f">(</font><font color="#d7875f">Just</font> x<font color="#afaf5f">)</font> <font color="#87afaf">=</font> <font color="#d7875f">Just</font> <font color="#afaf5f">(</font>f x<font color="#afaf5f">)</font>
safeHead <font color="#afaf5f">(</font>fmap f <font color="#afaf5f">(</font>x<font color="#87afaf">:</font>xs<font color="#afaf5f">))</font> <font color="#87afaf">=</font> safeHead <font color="#afaf5f">(</font>f x <font color="#87afaf">:</font> fmap f xs<font color="#afaf5f">)</font> <font color="#87afaf">=</font> <font color="#d7875f">Just</font> <font color="#afaf5f">(</font>f x<font color="#afaf5f">)</font>

<font color="#767676">-- Qed.</font>
</font></pre>
                    </figure>
                    <!-- Require Import List. -->
                    <!-- Import ListNotations. -->
                    <!-- Require Import FunInd. -->
                    <!-- Require Import Coq.Init.Datatypes. -->
                    <!-- Inductive Maybe (A:Type) : Type := -->
                    <!--   | Just : A -> Maybe A -->
                    <!--   | Nothing : Maybe A. -->
                    <!-- Arguments Just {A} a. -->
                    <!-- Arguments Nothing {A}. -->
                    <!-- Class Functor (F : Type -> Type) := { -->
                    <!--   fmap : forall {A B : Type}, (A -> B) -> F A -> F B -->
                    <!-- }. -->
                    <!-- #[local] -->
                    <!-- Instance Maybe_Functor : Functor Maybe := -->
                    <!-- { -->
                    <!--   fmap A B f x := match x with -->
                    <!--                    | Nothing => Nothing -->
                    <!--                    | Just y => Just (f y) -->
                    <!--                    end -->
                    <!-- }. -->
                    <!-- Fixpoint fmap_list {A B : Type} (f: A -> B) (xs: list A) : list B := -->
                    <!--   match xs with -->
                    <!--   | nil => nil -->
                    <!--   | cons y ys => cons (f y) (fmap_list f ys) -->
                    <!--   end. -->
                    <!-- #[local] -->
                    <!-- Instance List_Functor : Functor list := { -->
                    <!--   fmap A B f l := fmap_list f l -->
                    <!-- }. -->
                    <!-- Definition safeHead {A : Type} (l : list A): Maybe A := -->
                    <!--   match l with -->
                    <!--   | [] => Nothing -->
                    <!--   | x :: _ => Just x -->
                    <!--   end. -->
                    <!-- Functional Scheme safeHead_ind := Induction for safeHead Sort Prop. -->
                    <!-- Lemma safeHead_is_natural : -->
                    <!--   forall (A B : Type) (f : A -> B) (l : list A), -->
                    <!--      fmap f (safeHead l) = safeHead (fmap f l). -->
                    <!-- Proof. -->
                    <!--   intros A B f l. -->
                    <!--   functional induction (safeHead l); simpl. -->
                    <!--   - (* Case: l = [] *) -->
                    <!--     (* The safeHead of an empty list is Nothing, and mapping any function over *) -->
                    <!--     (* Nothing gives Nothing. On the other hand, mapping any function over an *) -->
                    <!--     (* empty list gives an empty list and applying safeHead to an empty list *) -->
                    <!--     (* gives Nothing. Hence in this case, both sides of the equation are Nothing *) -->
                    <!--     (* which makes them equal. *) -->
                    <!--     reflexivity. -->
                    <!--   - (* Case: l = x :: ls for some x and ls *) -->
                    <!--     (* The safeHead of a list beginning with x is Just x, and mapping f over *) -->
                    <!--     (* Just x gives Just (f x). On the other hand, mapping f over a list *) -->
                    <!--     (* beginning with x gives a list beginning with f x and applying safeHead *) -->
                    <!--     (* to this new list gives Just (f x). Hence in this case, both sides of *) -->
                    <!--     (* the equation are Just (f x) which makes them equal. *) -->
                    <!--     reflexivity. -->
                    <!-- Qed. -->
                    <p>Here are some more natural transformations:</p>
                    <figure class="highlight">
                        <pre><font face="monospace"><font color="#af87af">eitherToMaybe</font> <font color="#87afaf">::</font> <font color="#d7875f">Either</font> a b <font color="#87afaf">-></font> <font color="#d7875f">Maybe</font> b
eitherToMaybe <font color="#afaf5f">(</font><font color="#d7875f">Left</font> <font color="#87afaf">_</font><font color="#afaf5f">)</font>  <font color="#87afaf">=</font> <font color="#d7875f">Nothing</font>
eitherToMaybe <font color="#afaf5f">(</font><font color="#d7875f">Right</font> x<font color="#afaf5f">)</font> <font color="#87afaf">=</font> <font color="#d7875f">Just</font> x

<font color="#af87af">identityToMaybe</font> <font color="#87afaf">::</font> <font color="#d7875f">Identity</font> a <font color="#87afaf">-></font> <font color="#d7875f">Maybe</font> a
identityToMaybe <font color="#afaf5f">(</font><font color="#d7875f">Identity</font> x<font color="#afaf5f">)</font> <font color="#87afaf">=</font> <font color="#d7875f">Just</font> x

<font color="#af87af">maybeToList</font>  <font color="#87afaf">::</font> <font color="#d7875f">Maybe</font> a <font color="#87afaf">-></font> <font color="#afaf5f">[</font>a<font color="#afaf5f">]</font>
maybeToList  <font color="#d7875f">Nothing</font>   <font color="#87afaf">=</font> <font color="#afaf5f">[]</font>
maybeToList  <font color="#afaf5f">(</font><font color="#d7875f">Just</font> x<font color="#afaf5f">)</font>  <font color="#87afaf">=</font> <font color="#afaf5f">[</font>x<font color="#afaf5f">]</font>

<font color="#af87af">maybeToList2</font> <font color="#87afaf">::</font> <font color="#d7875f">Maybe</font> a <font color="#87afaf">-></font> <font color="#afaf5f">[</font>a<font color="#afaf5f">]</font>
maybeToList2 <font color="#d7875f">Nothing</font> <font color="#87afaf">=</font> <font color="#afaf5f">[]</font>
maybeToList2 <font color="#afaf5f">(</font><font color="#d7875f">Just</font> x<font color="#afaf5f">)</font> <font color="#87afaf">=</font> <font color="#afaf5f">[</font>x<font color="#afaf5f">,</font>x<font color="#afaf5f">]</font>

<font color="#af87af">maybeToList3</font> <font color="#87afaf">::</font> <font color="#d7875f">Maybe</font> a <font color="#87afaf">-></font> <font color="#afaf5f">[</font>a<font color="#afaf5f">]</font>
maybeToList3 <font color="#d7875f">Nothing</font> <font color="#87afaf">=</font> <font color="#afaf5f">[]</font>
maybeToList3 <font color="#afaf5f">(</font><font color="#d7875f">Just</font> x<font color="#afaf5f">)</font> <font color="#87afaf">=</font> <font color="#afaf5f">[</font>x<font color="#afaf5f">,</font>x<font color="#afaf5f">,</font>x<font color="#afaf5f">]</font>

<font color="#767676">-- ...</font>
</font></pre>
                    </figure>
                    <p>As we can see there is an infinite number of natural transformations.</p>
                    <p>You can open an interactive Haskell interpreter (ghci), load the functions and test the following examples.</p>
                    <figure class="highlight">
                        <pre><font face="monospace">ghci<font color="#87afaf">></font> safeHead <font color="#afaf5f">[</font>1<font color="#afaf5f">,</font>2<font color="#afaf5f">,</font>3<font color="#afaf5f">]</font>
<font color="#d7875f">Just</font> 1

ghci<font color="#87afaf">></font> safeHead <font color="#afaf5f">[]</font>
<font color="#d7875f">Nothing</font>

ghci<font color="#87afaf">></font> maybeToList2 <font color="#d7875f">Nothing</font>
<font color="#afaf5f">[]</font>

ghci<font color="#87afaf">></font> maybeToList3 <font color="#afaf5f">(</font><font color="#d7875f">Just</font> <font color="#afaf5f">"Hi"</font><font color="#afaf5f">)</font>
<font color="#afaf5f">[</font><font color="#afaf5f">"Hi"</font><font color="#afaf5f">,</font><font color="#afaf5f">"Hi"</font><font color="#afaf5f">,</font><font color="#afaf5f">"Hi"</font><font color="#afaf5f">]</font>
</font></pre>
                    </figure>
                    <h3 id="references"><a class="markdownIt-Anchor" href="#references"></a> References</h3>
                    <div id="footnotes">
                        <hr>
                        <div id="footnotelist">
                            <ol style="list-style: none; padding-left: 0; margin-left: 40px">
                                <li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">Mac Lane, Saunders (1998), Categories for the Working Mathematician, Graduate Texts in Mathematics 5 (2nd ed.), Springer-Verlag, p. 16, ISBN 0-387-98403-8<a href="#fnref:1" rev="footnote"> ↩</a></span></li>
                                <li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><a target="_blank" rel="noopener" href="https://bartoszmilewski.com/2015/04/07/natural-transformations/">Natural Transformations by Bartosz Milewski (2015)</a><a href="#fnref:2" rev="footnote"> ↩</a></span></li>
                            </ol>
                        </div>
                    </div>
                </5>
            </div>
        </article>
    </main>
    <footer>
        <p>This blog was made with <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> and <a target="_blank" rel="noopener" href="https://simplecss.org">Simple.css</a>.<br> Content is available under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0 </a> unless noted otherwise.</p>
        <p>
            <a href="/atom.xml">
                <svg class="icon" aria-hidden="true" width="16" height="16" viewbox="0 -1 16 16" xmlns="http://www.w3.org/2000/svg">
                    <path fill="currentColor" d="M4.259 23.467c-2.35 0-4.259 1.917-4.259 4.252 0 2.349 1.909 4.244 4.259 4.244 2.358 0 4.265-1.895 4.265-4.244-0-2.336-1.907-4.252-4.265-4.252zM0.005 10.873v6.133c3.993 0 7.749 1.562 10.577 4.391 2.825 2.822 4.384 6.595 4.384 10.603h6.16c-0-11.651-9.478-21.127-21.121-21.127zM0.012 0v6.136c14.243 0 25.836 11.604 25.836 25.864h6.152c0-17.64-14.352-32-31.988-32z" transform="scale(0.46)" /></svg>RSS Feed</a> • <a target="_blank" rel="noopener" href="https://github.com/madnight/blog"><svg class="icon" aria-hidden="true" width="16" height="16" viewbox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" fill="currentColor" />
                </svg>Source</a>
        </p>
    </footer>
</body>

</html>
